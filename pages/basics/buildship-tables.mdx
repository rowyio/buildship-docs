# BuildShip Tables

import { Callout } from 'nextra/components';
import { Steps } from 'nextra/components';
import Image from 'next/image';
import Video from '../../components/video/index.jsx';
import tables1 from '/public/basics/BuildShipTables.png';
import tables2 from '/public/basics/BuildShipDatabase.png';
import tables3 from '/public/basics/BuildShipTablesHowTo1.png';
import tables4 from '/public/basics/BuildShipTablesHowTo2.png';
import tables5 from '/public/basics/BuildShipTablesHowTo3.png';
import tables6 from '/public/basics/BuildShipTablesHowTo4.png';
import tables7 from '/public/basics/BuildShipTablesHowTo5.png';
import tables8 from '/public/basics/BuildShipTablesCreate.png';
import tables9 from '/public/basics/BuildShipTablesCreate2.png';
import tables10 from '/public/basics/BuildShipTablesCreate3.png';
import tables11 from '/public/basics/BuildShipNodeCreate.png';
import tables12 from '/public/basics/BuildShipNodeQuery.png';
import tables13 from '/public/basics/BuildShipNodeGet.png';
import tables14 from '/public/basics/BuildShipNodeDocPath.png';
import tables15 from '/public/basics/BuildShipNodeUpdate.png';
import tables16 from '/public/basics/BuildShipNodeDelete.png';

BuildShip Tables give you an easy visual way to manage your BuildShip Database. Every BuildShip project comes with a
ready-to-use Firestore database.

<br />
<Image src={tables1} alt='API Specification' width={1200} />

With BuildShip, you get the ultimate flexibility to choose the database that best works for your project.

- **Use BuildShip Database:** If you are looking for quick and ready-to-use database with an instant database management
  UI.
- **Pick Your Own Database:** Firestore, Postgres, Supabase, MySQL‚Ä¶.or any database. Choose a database that works for
  you if you do not want to use the BuildShip database. In this case, you can simply use them in the workflows and APIs
  using CRUD nodes.

## How to use BuildShip Table

If you're using the **BuildShip database**, by using the **BuildShip Database** nodes in your workflows, you can access
BuildShip Tables to visualize and manage the data populated by these nodes.

<Callout type='warning' emoji='‚ö†Ô∏è'>
  You can use BuildShip database in your workflows using the **BuildShip Database** CRUD nodes, and access the data in a
  tabular format visually using the BuildShip Tables. (This feature is now available for users on all plans! ‚≠êÔ∏è)
</Callout>

## Access BuildShip Table

You can access BuildShip Tables **directly from the CRUD node** you are using. Once you click on the table icon
available on the **BuildShip Database** node, you'll be prompted to create a new table or select an existing table.

<Callout type='warning'>Ensure pop-ups are unblocked for buildship.app.</Callout>

<br />
<Image src={tables3} alt='API Specification' width={1200} />

Alternatively, you can access BuildShip Tables from the **side navigation bar**. Click on the **Database** icon to
access the BuildShip Tables.

<br />
<Image src={tables4} alt='API Specification' width={1200} />

## Creating Tables

There are two ways of creating a BuildShip Table:

### Set up an existing collection

<Image src={tables5} alt='API Specification' width={1200} />

After navigating to the Databases tab, users will be able to check out the existing collections as tables, if any. If
you do not have any existing tables, proceed to the [Creating a new table](buildship-tables#creating-a-new-table)
section.

- To initialize an existing collection as a BuildShip table, simply click on the **Setup ‚û§** button.

<Image src={tables6} alt='API Specification' width={1200} />

- Select the table type, or leave it as default. Under the **Display** section, users can edit the **Table Name** and
  **ID**. Optionally create and select display sections, add description for easy access.

- Under the **Columns** section, select the columns to initialize with the table. Click on **Create**.

<Image src={tables7} alt='API Specification' width={1200} />

- Now a table will be initialized for the collection name provided. Click on ‚ÄúImport Existing Data‚Äù to import the data
  into your table.

- Follow the step-by-step guided process to import your data and hit ‚ÄúFinish‚Äù.

### Creating a new table

- Once you‚Äôve navigated to the ‚ÄúDatabases‚Äù tab, click on the ‚ÄúCreate Table‚Äù button. (or look for the ‚úö icon on the
  bottom right corner to add a new table)

- Select a Collection Name. You can also copy and paste the name of the collection used in your BuildShip Database Nodes
  to import the existing data in your table.

- Optionally, you can add the display information for your table and select initial ‚ÄúRow ID‚Äù as the column. Users also
  have the option to quickly copy existing column data from any existing tables.

- Click on ‚ÄúCreate‚Äù to create the table.

<Image src={tables8} alt='API Specification' width={1200} />

## Manipulating Table Data

There are two ways to manipulate the Firebase Collection data associated with your table.

### Via BuildShip Table UI

- In your empty table, click on ‚Äú**Add Column**‚Äù button. Add in the Field Name, Field Key, and the Field Type.

<Callout emoji='üí°'>
  If you already have existing fields in your collection, make sure to match the **Field Key** value with your existing
  keys to sync data.
</Callout>

<Image src={tables9} alt='API Specification' width={1200} />

- Click on ‚Äú**Add Row**‚Äù button to add values to your table.

<Image src={tables10} alt='API Specification' width={1200} />

### Via BuildShip Database Nodes

BuildShip has **pre-built CRUD nodes** available under the **BuildShip Database Integrations** section in the Node
Library. These nodes are similar to the Firestore database nodes and are meant to help you insert, query, and manipulate
your BuildShip Data.

In the next section, we‚Äôll see how we can perform some basic operations on our data.

## BuildShip Database Nodes

<Image src={tables2} alt='API Specification' width={1200} />

Let‚Äôs see how we can perform some basic operations and visualize them in our BuildShip Tables interface:

### Creating Documents

To create a document in a collection, we need to add the **Create Document** node from the **BuildShip Database**
integration.

To test it out, let‚Äôs try to add the data in the collection connected to a BuildShip table. Add in the data as shown in
the image below.

<br />

<Image src={tables11} alt='API Specification' width={1200} />

### Querying Collection

To query a collection, we can use the **Collection Query** node from the **BuildShip Database** integration.

Add the collection name, same as the one linked to the BuildShip Table.

#### Basic Filter

For the Filters field, let‚Äôs copy the sample input available in the Node Info (‚ÑπÔ∏è) and modify it according to our data.

```json
{
  "field": "name",
  "operator": "==",
  "value": "Marta"
}
```

This will return all the documents where the field name is equal to Marta.

> **Tip:** Click [here](https://cloud.google.com/firestore/docs/query-data/queries#query_operators) for a list of all
> the operators available for filtering.

#### Multiple Filters

Example 1: Filtering with OR. To add multiple filters, we can use the **logic** field to specify the logic to be applied
to the filters. For example:

```json
{
  "logic": "OR",
  "filters": [
    { "field": "active", "operator": "==", "value": false },
    { "field": "name", "operator": "==", "value": "doe" }
  ]
}
```

This will return all the documents where the field ‚Äúactive‚Äù is false OR the field ‚Äúname‚Äù is doe.

Example 2: Filtering with AND. To filter with AND, we can use the same **logic** field to specify the logic to be
applied to. For example:

```json
{
  "logic": "AND",
  "filters": [
    { "field": "active", "operator": "==", "value": false },
    { "field": "name", "operator": "==", "value": "doe" }
  ]
}
```

This will return all the documents where the field ‚Äúactive‚Äù is false AND the field ‚Äúname‚Äù is doe.

#### Nested Filters

We can also nest filters to create complex queries. For example:

```json
{
  "logic": "AND",
  "children": [
    { "field": "technology", "operator": "==", "value": "Firebase" },
    {
      "logic": "OR",
      "filters": [
        { "field": "admin", "operator": "==", "value": true },
        { "field": "age", "operator": ">=", "value": 18 }
      ]
    }
  ]
}
```

This will return all the documents where the field ‚Äútechnology‚Äù is equal to ‚ÄúFirebase‚Äù AND the field ‚Äúadmin‚Äù is true OR
the field ‚Äúage‚Äù is greater than or equal to 18.

#### Bonus: Filter by Reference

To filter by reference we can use the convention `collectionName/documentID` for the filter value. For example:

```json
{
  "field": "user_ref",
  "operator": "==",
  "value": "users/user123"
}
```

This will return all the documents where the field ‚Äúuser_ref‚Äù is equal to ‚Äúusers/user123‚Äù. Values passed in this format
will be treated as references.

Next, let‚Äôs limit the number of responses being returned by specifying a limit and add a condition to order the results.
For example:

```js
[{ name: 'asc' }]; // order in ascending order by the username
```

<Image src={tables12} alt='API Specification' width={1200} />

### Get Document

To get a document from a collection, lets use the **Get Document** node from the **BuildShip Database** integration.

Add in the Collection Name and the Document ID to retrieve.

<Image src={tables13} alt='API Specification' width={1200} />

### Updating Fields

To update a field in the document from a collection, lets use the **Update Field Value** node from the **BuildShip
Database** integration.

For this, we‚Äôd require the **Document Path** instead of the Collection Name and Document ID. To get the Document Path,
let‚Äôs go to our BuildShip Table for the document we wish to update. Right click any value for that particular row and
click on ‚Äú**Copy Path**‚Äù.

<Image src={tables14} alt='API Specification' width={1200} />

Paste the copied document path in the input field. The Document Path is in the following format:

```json
collectionName/DocumentID
```

Add in the fieldName to update and the value to update.

<Image src={tables15} alt='API Specification' width={1200} />

### Delete Document

To update a field in the document from a collection, lets use the **Delete Document** node from the **BuildShip
Database** integration.

Add in the Collection Name and the Document ID of the document to delete.

<Image src={tables16} alt='API Specification' width={1200} />
