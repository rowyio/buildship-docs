# Supabase Trigger

import Image from 'next/image';
import { Callout } from 'nextra/components';
import supaTrigger from '/public/assets/supabase5.png';
import supaTrigger1 from '/public/assets/supaTrigger1.png';
import supaTrigger2 from '/public/assets/supaTrigger2.png';
import supaTrigger3 from '/public/assets/supaTrigger3.png';
import supaTrigger4 from '/public/assets/supaTrigger4.png';

The Supabase Trigger allows the creation of a database webhook on Supabase. **When an event occurs on the specified
Supabase table, this trigger initiates the associated BuildShip workflow**. Events can include **Insertions, Updates, or
Deletions**.

<Image src={supaTrigger2} alt='API Specification' width={1200} />

## OAuth-Based Configuration

This trigger operates through OAuth authentication, eliminating the need for users to provide API Keys. By clicking on
the fingerprint icon, users are redirected to the Supabase login page to grant necessary permissions. Upon successful
login, the red fingerprint icon changes to green, indicating successful authentication.

<Image src={supaTrigger3} alt='Supabase BuildShip Trigger' width={1200} />

## Trigger Configuration

The Supabase Trigger requires the following configuration:

<Image src={supaTrigger4} alt='Supabase BuildShip Trigger' width={1200} />

### Project Reference

This refers to the **Supabase project reference**, typically obtained from the Supabase dashboard. It's a unique
identifier for the project within Supabase.

### Event

Specifies the **type of event on the table that triggers the workflow**. Events can include insertions, updates, or
deletions. Choose the specific event that should activate the workflow.

<Callout type='info'>
  The trigger can be configured to activate on auth updates, such as when a user signs up. To set this up, ensure the
  table schema is defined as `auth`, and the table name is specified as `users`.
</Callout>

### Table Schema

Refers to the **Postgres schema associated with the table on Supabase**. The schema organizes and structures the
database objects and data. More info on table schemas.

### Table Name

Denotes the **name of the table within Supabase** for which the trigger is set up. The workflow will be activated based
on the specified events occurring in this table.
