import { Steps } from 'nextra/components';
import Image from 'next/image';
import rest1 from '/public/nodes/rest-api-1.png';
import rest2 from '/public/nodes/rest-api-2.png';
import rest3 from '/public/nodes/rest-api-3.png';
import rest4 from '/public/nodes/rest-api-4.png';

# REST API Call Trigger

With this powerful trigger node, you can initiate automation by **sending HTTP requests to specified URL endpoints**.
When setting up the REST API Call Trigger, you define the **path**, choose the **HTTP method** (GET, PUT, POST, DELETE),
and create the complete endpoint URL.

<div
  style={{
    display: 'flex',
    justifyContent: 'center', // Center horizontally
    alignItems: 'center', // Center vertically
  }}
>
  <Image src={rest1} alt='REST API Call Trigger' width={1200} />
</div>

## Setting up a REST API Call Trigger in BuildShip

To set up a REST API Call Trigger in your BuildShip workflow, follow these steps:

<Steps>
### Add Trigger Node
 
In a fresh workflow, click "Add Trigger," and select "Rest API Call" from the available options. The Rest API Call trigger comes with three fields:

- **Path:** Specify the URL Endpoint to which you want to send the request.
- **Method:** Choose the appropriate HTTP method for your request, such as GET, PUT, POST, or DELETE.
- **Endpoint URL:** This is the complete request URL, including the endpoint you specified in the Path field.

### Platform to send Requests

The REST API Call Trigger allows you to pick any platform to trigger an HTTP request to the specified Endpoint URL. This
flexibility empowers you to integrate BuildShip with various applications and services seamlessly.

</Steps>

## Example: Triggering a Workflow with a REST API Call

**Calculator - Multiplying two numbers and returning the result**

<Steps>

### NODE 1: Trigger - Rest API Call

- Set path to `/calculator`
- Method: `POST`
- Copy the endpoint URL

### NODE 2: Calculator Node

- Selected a pre-built **Calculator Node** from the Node Library.
- To add first and second numbers, **click on the Expression `(x)` icon** â†’ Select **Expression** â†’ Click on the
  **Expression Editor** â†’ Click on **Insert Variable** â†’ Under **Request**, select **Body** and add the key in either of
  the following formats: `["num1"]` or `.num1`.
- Repeat the above step for the second number.
- Selected the operation as **MULTIPLY**.

<Image src={rest2} alt='REST API Call Trigger' width={900} />

### NODE 3: Return Node

- Added a pre-built Return Node from the Node Library.
- Set the Status Code to `(OK) 200`
- For the Value, click on the Expression `(x)` icon â†’ Select Expression â†’ Click on the Expression Editor â†’ Click on
  Insert Variable â†’ Under Calculator, select **Result**.

<Image src={rest3} alt='REST API Call Trigger' width={900} />

### Testing the Workflow

To test our our Workflow, letâ€™s go to Postman. Add in the copied Endpoint URL and set the request method to POST. (Same
as we had set up in the Trigger Node)

Add in the body and click Send! ðŸš€

<Image src={rest4} alt='REST API Call Trigger' width={1000} />

</Steps>
