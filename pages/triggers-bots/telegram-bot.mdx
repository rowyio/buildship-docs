# Telegram Bot Trigger

import { Callout } from 'nextra/components';
import { Steps } from 'nextra/components';
import Image from 'next/image';
import telegram from '/public/nodes/telegram-bot.png';
import step1 from '/public/nodes/telegram/step1.png';
import step2 from '/public/nodes/telegram/step2.png';
import step3 from '/public/nodes/telegram/step3.png';
import step4 from '/public/nodes/telegram/step4.png';
import step5 from '/public/nodes/telegram/step5.png';
import step6 from '/public/nodes/telegram/step6.png';
import telegramBot from '/public/nodes/telegram/telegram-individual-bot.png';
import telegramAssistant from '/public/nodes/telegram/telegram-assistant.png';

The **Telegram Bot Trigger** in BuildShip makes it easy to automate and manage Telegram conversations using our intuitive no-code, drag-and-drop workflow builder. Instantly handle incoming messages in Telegram chats and streamline your bot interactionsâ€”no programming required.

**Key Features**

- Effortlessly moderate and respond to telegram chat messages
- Integrate with **OpenAI** to generate smart, personalized replies
- Build dynamic Telegram bots to enhance user engagement
- Share your bot with users for real-time, automated communication

Whether you're managing a community or running customer support, **BuildShip** empowers you to create powerful Telegram bots and workflowsâ€”visually, quickly, and without writing a single line of code.

<Image src={telegram} alt='Telegram Bot Trigger' width={1200} />

## Prerequisites 

**Telegram bot API key** - You need a Telegram API key from a Telegram bot that will be responding to the incoming messages. To
setup a bot and get the API key, follow the instructions below:

- Go to your Telegram App, and enter **@BotFather** in the search tab and select the verified bot with tick mark that shows up.
<Image src={step1} alt='Telegram Bot' width={300} />
- Click Start to activate the BotFather bot. You will receive a list of commands to manage the bots.
- Choose or type the **/newbot** command and click Send.
- Choose a name for your bot. Your subscribers will see it in their conversations. Next, choose a username for your
bot. The bot can be found by its username in the search bar. The username must be unique and end with the word "bot."
- Once you've made your selection for your bot's name, your bot will be brought to life. Shortly thereafter, you'll
receive a message containing a link leading to your bot, which can be accessed at **"t.me/[bot_username]"** as well as
your API key.
- Make note of this API key as this is what you will need to use in the Telegram Trigger node on BuildShip.

<Image src={step2} alt='Telegram Bot' width='90%' />

## How to setup Telegram bot - step by step guide

### Quickstart Option - Clone the Telegram Bot Template

<Steps>

### Clone Template

Clone [this template](https://buildship.com/templates/telegram-chatbot) to get started with the Telegram Bot by just adding your token.

<a href="https://buildship.com/templates/telegram-chatbot"><Image src={telegramAssistant} alt='Telegram Assistant Template' width={1200} /></a>

### Add personal UID

Search Telegram Bot for `@userdetailsbot` on telegram to get your personal UID. Add the UID generated by Userinfo | Get id bot in the chat ID of the Send Telegram Messaging Node. (Optional if using
from the template - the ID is passed as variable from the trigger response)

### Search and start your bot on Telegram

Search for the bot you created on Telegram and click Start.

### Start chatting with your Bot
   
Start chatting with your bot and test your flow. You can look at the logs on BuildShip and adjust the logic as you need.
   
<Image src={telegramBot} alt='Telegram Bot user details bot' width={600} />

</Steps>

### Manual Option - Create a Telegram Bot workflow

<Steps>

### Add the Telegram Bot Trigger

Add the telegram bot's API Key that you obtained in the [Prerequisites](#prerequisites) section. Also,
optionally you can add a Verification Code if you want incoming requests to be verified.

### Verification Code (optional)

Telegram Bot API provides a verification code to ensure requests to your bot's webhook are coming from Telegram itself.
This code is a random string sent in the `X-Telegram-Bot-Api-Secret-Token` header with each update request. You can use
this code to verify that the request is coming from Telegram and not from a third-party source. If you want to use this
feature, you can generate a random string and add it to the Verification Code field in the Telegram Bot Trigger node.
This code will be sent in the X-Telegram-Bot-Api-Secret-Token header with each update request to your bot's webhook. You
can then verify this code in your workflow to ensure the request is coming from Telegram.

To set the verification code, you can add the code in the Verification Code field in the Telegram Bot Trigger node and
send it to the headers of the incoming request to your webhook. To learn more about Telegram Bot verification code, you can
refer to this [link](https://core.telegram.org/api/auth#sending-a-verification-code).

<Image src={step3} alt='Telegram Bot Trigger' width={600} />

### Add "Send Telegram message" Node

- Next in your workflow, add a node by searching in the node explorer for "Send Telegram message" node to reply to
incoming messages.
- Add the "Chat ID" of the group that you want the bot to reply to. (Use the Telegram Assistant Template to skip adding
the ChatID and fetch it dynamically from the Trigger Response)
- To this node also add the response "Text" that you want the bot to reply with. We have added here, a generic message
of "Welcome to the group..."
- You can however, add nodes like OpenAI text generation to respond with AI, or even verify if the incoming message is
from a Stripe paying user before responding
- There is full flexibility to add more nodes and handle what your bot is replying with.

<Image src={step5} alt='Telegram Bot Trigger' width={600} />

### Return success status and click Ship

Finally, add a "Return" node that will respond with a success status. And click the "Ship" button to deploy the workflow.

### Send a message to Test

Finally, you can send a message and test the response is as expected.

<Image src={step6} alt='Telegram Bot Trigger' width={300} />

### That's it ðŸŽ‰

</Steps>

<Callout emoji='ðŸ’¡' type='info'>
Use the *Telegram Bot Assistant* to create a Telegram Bot workflow without the need to add the Chat ID manually and
start by just setting up the bot and passing the access token.
</Callout>
